<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rabbit Cage Management</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Add your CSS styles here if needed */
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 0;
        }
        header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        header button {
            margin-right: 20px;
        }
        form {
            border: 1px solid #ccc;
            padding: 20px;
            border-radius: 5px;
        }
        .buttons {
            margin-top: 20px;
        }
        .buttons button {
            margin-right: 10px;
        }
        p {
            margin-top: 10px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <header>
        <button onclick="goHome()">&#x1F3E0;</button>
        <span>Rabbit Cage Management</span>
    </header>

    <div id="cageDetails">
        <form id="cageForm" onsubmit="saveCageData(event)">
            <h2>Cage Management</h2>
            <div>
                <label for="cageID">CAGE ID:</label>
                <input type="text" id="cageID" name="cageID" required>
            </div>
            <div>
                <label for="cageLocation">CAGE LOCATION:</label>
                <input type="text" id="cageLocation" name="cageLocation" required>
            </div>
            <div>
                <label for="cageCapacity">CAGE CAPACITY:</label>
                <input type="number" id="cageCapacity" name="cageCapacity" required>
            </div>
            <div>
                <label for="noteCage">NOTE:</label>
                <textarea id="noteCage" name="noteCage"></textarea>
            </div>
            <div class="buttons">
                <button type="submit">SAVE CAGE</button>
                <button type="button" onclick="clearCageForm()">CLEAR CAGE FORM</button>
            </div>
            <p id="cageSuccessMessage" style="display: none;">Cage data saved successfully!</p>
        </form>
    </div>

    <div id="rabbitFormContainer" style="display: none;">
        <form id="rabbitForm" onsubmit="saveData(event)">
            <h2>Rabbit Profiles</h2>
            <!-- Profile Selector -->
            <div>
                <label for="profile">RABBIT PROFILE:</label>
                <select id="profile" name="profile" onchange="toggleProfileFields()">
                    <option value="" disabled selected>Select a Profile</option>
                    <option value="doe">Rabbit Doe</option>
                    <option value="fattener">Rabbit Fattener</option>
                    <option value="breeder">Rabbit Breeder</option>
                </select>
            </div>

            <!-- Rabbit Doe Fields -->
            <div id="doeFields" style="display: none;">
                <div>
                    <label for="serialNumber">SERIAL NUMBER:</label>
                    <input type="text" id="serialNumber" name="serialNumber" required>
                </div>
                <div>
                    <label for="age">AGE:</label>
                    <input type="text" id="age" name="age" required>
                </div>
                <div>
                    <label for="dateOfBirth">DATE OF BIRTH:</label>
                    <input type="date" id="dateOfBirth" name="dateOfBirth" required>
                </div>
                <div>
                    <label for="gender">GENDER:</label>
                    <select id="gender" name="gender">
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                    </select>
                </div>
                <div>
                    <label for="family">RABBIT FAMILY:</label>
                    <input type="text" id="family" name="family" required>
                </div>
                <div>
                    <label>FOOD INTAKE:</label>
                    <label><input type="radio" name="foodIntakeDoe" value="normal"> NORMAL</label>
                    <label><input type="radio" name="foodIntakeDoe" value="irregular"> IRREGULAR</label>
                </div>
                <div>
                    <label for="weight">WEIGHT:</label>
                    <input type="text" id="weight" name="weight" required>
                </div>
                <div id="pregnantSection">
                    <label>PREGNANT:</label>
                    <label><input type="radio" name="pregnantDoe" value="yes" onclick="togglePregnancyDetails(true)"> YES</label>
                    <label><input type="radio" name="pregnantDoe" value="no" onclick="togglePregnancyDetails(false)"> NO</label>
                    <div id="pregnancyDetails" style="display: none;">
                        <div>
                            <label for="pregnancyStartDoe">START OF PREGNANCY:</label>
                            <input type="date" id="pregnancyStartDoe" name="pregnancyStartDoe" onchange="calculateDueDate('Doe')">
                        </div>
                        <div>
                            <label for="dueDateDoe">DUE DATE OF PREGNANCY:</label>
                            <input type="text" id="dueDateDoe" name="dueDateDoe" readonly>
                        </div>
                    </div>
                    <div id="notReadyMessage" style="display: none;">
                        <p>This rabbit is not ready for pregnancy.</p>
                    </div>
                </div>
            </div>

            <!-- Rabbit Fattener Section -->
            <div id="fattenerSection" style="display: none;">
                <div>
                    <label for="serialNumberFattener">SERIAL NUMBER:</label>
                    <input type="text" id="serialNumberFattener" name="serialNumberFattener" required>
                </div>
                <div>
                    <label for="breeds">BREEDS:</label>
                    <input type="text" id="breeds" name="breeds" required>
                </div>
                <div>
                    <label for="ageFattener">AGE:</label>
                    <input type="text" id="ageFattener" name="ageFattener" required>
                </div>
                <div>
                    <label for="dateOfBirthFattener">DATE OF BIRTH:</label>
                    <input type="date" id="dateOfBirthFattener" name="dateOfBirthFattener" onchange="checkMeatProduction()" required>
                </div>
                <div>
                    <label for="genderFattener">GENDER:</label>
                    <select id="genderFattener" name="genderFattener">
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                    </select>
                </div>
                <div>
                    <label for="familyFattener">RABBIT FAMILY:</label>
                    <input type="text" id="familyFattener" name="familyFattener" required>
                </div>
                <div>
                    <label>FOOD INTAKE:</label>
                    <label><input type="radio" name="foodIntakeFattener" value="normal"> NORMAL</label>
                    <label><input type="radio" name="foodIntakeFattener" value="irregular"> IRREGULAR</label>
                </div>
                <div>
                    <label for="weightFattener">WEIGHT:</label>
                    <input type="text" id="weightFattener" name="weightFattener" required>
                </div>
                <div id="readyForMeat" style="display: none;">
                    <p>This rabbit is ready for meat production.</p>
                </div>
                <div id="notReadyForMeat" style="display: none;">
                    <p style="font-weight: bold; border: 2px solid black; padding: 5px;">This rabbit is not ready for meat production.</p>
                </div>
            </div>

            <!-- Rabbit Breeder Section -->
            <div id="breederSection" style="display: none;">
                <div>
                    <label for="serialNumberBreeder">SERIAL NUMBER:</label>
                    <input type="text" id="serialNumberBreeder" name="serialNumberBreeder" required>
                </div>
                <div>
                    <label for="breedsBreeder">BREEDS:</label>
                    <input type="text" id="breedsBreeder" name="breedsBreeder" required>
                </div>
                <div>
                    <label for="ageBreeder">AGE:</label>
                    <input type="text" id="ageBreeder" name="ageBreeder" required>
                </div>
                <div>
                    <label for="dateOfBirthBreeder">DATE OF BIRTH:</label>
                    <input type="date" id="dateOfBirthBreeder" name="dateOfBirthBreeder" onchange="checkBreederEligibility()" required>
                </div>
                <div>
                    <label for="genderBreeder">GENDER:</label>
                    <select id="genderBreeder" name="genderBreeder">
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                    </select>
                </div>
                <div>
                    <label for="familyBreeder">RABBIT FAMILY:</label>
                    <input type="text" id="familyBreeder" name="familyBreeder" required>
                </div>
                <div>
                    <label>FOOD INTAKE:</label>
                    <label><input type="radio" name="foodIntakeBreeder" value="normal"> NORMAL</label>
                    <label><input type="radio" name="foodIntakeBreeder" value="irregular"> IRREGULAR</label>
                </div>
                <div>
                    <label for="weightBreeder">WEIGHT:</label>
                    <input type="text" id="weightBreeder" name="weightBreeder" required>
                </div>
                <div id="eligibleMessage" style="display: none;">
                    <p>This rabbit is eligible for mating.</p>
                </div>
                <div id="notEligibleMessage" style="display: none;">
                    <p>This rabbit is not eligible for mating.</p>
                </div>
            </div>

            <div class="buttons">
                <button type="submit">SAVE RABBIT PROFILE</button>
                <button type="button" onclick="clearRabbitForm()">CLEAR RABBIT FORM</button>
            </div>
            <p id="successMessage" style="display: none;">Rabbit profile saved successfully!</p>
        </form>
    </div>

    <script>
        function goHome() {
            // Logic to go to the home page
        }

        function saveCageData(event) {
            event.preventDefault();
            // Add logic to save cage data
            document.getElementById('cageSuccessMessage').style.display = 'block';
        }

        function clearCageForm() {
            document.getElementById('cageForm').reset();
            document.getElementById('cageSuccessMessage').style.display = 'none';
        }

        function saveData(event) {
            event.preventDefault();
            // Add logic to save rabbit data
            document.getElementById('successMessage').style.display = 'block';
        }

        function clearRabbitForm() {
            document.getElementById('rabbitForm').reset();
            document.getElementById('successMessage').style.display = 'none';
        }

        function toggleProfileFields() {
            const profile = document.getElementById('profile').value;
            document.getElementById('doeFields').style.display = profile === 'doe' ? 'block' : 'none';
            document.getElementById('fattenerSection').style.display = profile === 'fattener' ? 'block' : 'none';
            document.getElementById('breederSection').style.display = profile === 'breeder' ? 'block' : 'none';
        }

        function togglePregnancyDetails(show) {
            document.getElementById('pregnancyDetails').style.display = show ? 'block' : 'none';
            document.getElementById('notReadyMessage').style.display = !show ? 'block' : 'none';
        }

        function calculateDueDate(type) {
            const dateField = type === 'Doe' ? document.getElementById('pregnancyStartDoe') : document.getElementById('pregnancyStartFattener');
            const dueDateField = type === 'Doe' ? document.getElementById('dueDateDoe') : document.getElementById('dueDateFattener');
            const startDate = new Date(dateField.value);
            const dueDate = new Date(startDate.setDate(startDate.getDate() + 30)); // assuming 30 days pregnancy
            dueDateField.value = dueDate.toISOString().split('T')[0];
        }

        function checkMeatProduction() {
            // Logic to check if the rabbit is ready for meat production
        }

        function checkBreederEligibility() {
            const dateOfBirth = new Date(document.getElementById('dateOfBirthBreeder').value);
            const eligibilityMessage = document.getElementById('eligibleMessage');
            const notEligibleMessage = document.getElementById('notEligibleMessage');
            const currentDate = new Date();
            const ageInMonths = (currentDate - dateOfBirth) / (1000 * 60 * 60 * 24 * 30); // convert ms to months

            if (ageInMonths >= 6) {
                eligibilityMessage.style.display = 'block';
                notEligibleMessage.style.display = 'none';
            } else {
                eligibilityMessage.style.display = 'none';
                notEligibleMessage.style.display = 'block';
            }
        }
    </script>
</body>
</html>
